angular.module("NUSAP",["ui.bootstrap","ui.router","ngCookies","ngAnimate","ngCookies","anguFixedHeaderTable"]);
"use strict";angular.module("NUSAP").config(["$stateProvider","$urlRouterProvider",function(t,a){a.otherwise("/"),t.state("index",{url:"/",templateUrl:"templates/dashboard.html",js:["js/Chart.HorizontalBar.js","http://www.chartjs.org/assets/Chart.min.js"]}).state("login",{url:"/login",templateUrl:"templates/login.html"}).state("capCal",{url:"/capCal",templateUrl:"templates/capCal.html"})}]);

function getUrlVars(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,o){e[n]=o});return e}function AlertsCtrl(e,t){e.alerts=[{}],e.addAlert=function(){e.alerts.push({msg:"Another alert!"})},e.welcomeUser=function(){var n={method:"GET",url:"index.php?id=profile&token="+token};t(n).then(function(t){e.token=token,e.username=t.data.Results[0].Name,e.msg="WELCOME BACK, "+e.username+"!"},function(e){}),e.type="info"},e.closeMsg=function(){e.alert!=e.alert},e.closeAlert=function(t){e.alerts.splice(e.alerts.indexOf(this),1)}}var token;null==sessionStorage.getItem("token")?(token=getUrlVars().token,sessionStorage.setItem("isValidToken",!1)):(token=sessionStorage.getItem("token"),sessionStorage.setItem("isValidToken",!0)),angular.module("NUSAP").controller("AlertsCtrl",["$scope","$http",AlertsCtrl]);
function BarCtrl(a,r,o,t){a.getBarChart=function(){var a=document.getElementById("canvas").getContext("2d");new Chart(a).HorizontalBar(barChartData,{responsive:!0,barShowStroke:!1})}}var randomScalingFactor=function(){return Math.round(100*Math.random())},barChartData={labels:["Core","ULR","UE"],datasets:[{fillColor:"#98FB98",strokeColor:"#00FF7F",highlightFill:"#00FF7F",highlightStroke:"#00FF7F",data:[randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]},{fillColor:"#FA8072",strokeColor:"#FA8072",highlightFill:"#E58270",highlightStroke:"#FA8072",data:[randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]}]};angular.module("NUSAP").controller("BarCtrl",["$scope","$cookieStore","$http","$location",BarCtrl]);
function getUrlVars(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,s,d){e[s]=d});return e}function CapCalCtrl(e,t,s,d,o){function u(t,s,d){r(t,s,d).then(function(s){if(""!==s.data){var d=[];void 0!==s.data.Preclusion&&(e.preclusionList.push(t),d=s.data.Preclusion.split(","),angular.forEach(d,function(t,s){if(-1==d[s].trim().indexOf("or")&&-1==d[s].trim().indexOf("OR")&&-1==d[s].trim().indexOf("and")&&-1==d[s].trim().indexOf("/"))d[s].trim().length<9&&e.preclusionList.push(d[s].trim());else if(-1!=d[s].trim().indexOf(" or ")){var o=[];o=d[s].trim().split(" or "),angular.forEach(o,function(t,s){if(-1==o[s].indexOf(" OR "))o[s].trim().length<9&&e.preclusionList.push(o[s].trim());else{var d=[];d=o[s].trim().split(" OR "),angular.forEach(d,function(t,s){d[s].trim().length<9&&e.preclusionList.push(d[s].trim())})}})}else if(-1!=d[s].trim().indexOf(" OR ")){var o=[];o=d[s].trim().split(" OR "),angular.forEach(o,function(t,s){o[s].trim().length<9&&e.preclusionList.push(o[s].trim())})}else if(-1!=d[s].trim().indexOf(" and ")){var o=[];o=d[s].trim().split(" and "),angular.forEach(o,function(t,s){o[s].trim().length<9&&e.preclusionList.push(o[s].trim())})}else if(-1!=d[s].trim().indexOf("/")){var o=[];o=d[s].trim().split("/"),angular.forEach(o,function(t,s){o[s].trim().length<9&&e.preclusionList.push(o[s].trim())})}}))}sessionStorage.setItem("preclusionList",JSON.stringify(e.preclusionList))})}function l(t,s,d){r(t,s,d).then(function(s){if(""!==s.data){var d=[];void 0!==s.data.Preclusion&&(e.preclusionList.splice(e.preclusionList.indexOf(t),1),d=s.data.Preclusion.split(","),angular.forEach(d,function(t,s){if(-1==d[s].trim().indexOf("or")&&-1==d[s].trim().indexOf("OR")&&-1==d[s].trim().indexOf("and")&&-1==d[s].trim().indexOf("/"))d[s].trim().length<9&&e.preclusionList.splice(e.preclusionList.indexOf(d[s].trim()),1);else if(-1!=d[s].trim().indexOf(" or ")){var o=[];o=d[s].trim().split(" or "),angular.forEach(o,function(t,s){if(-1==o[s].indexOf(" OR "))o[s].trim().length<9&&e.preclusionList.splice(e.preclusionList.indexOf(o[s].trim()),1);else{var d=[];d=o[s].trim().split(" OR "),angular.forEach(d,function(t,s){d[s].trim().length<9&&e.preclusionList.splice(e.preclusionList.indexOf(d[s].trim()),1)})}})}else if(-1!=d[s].trim().indexOf(" OR ")){var o=[];o=d[s].trim().split(" OR "),angular.forEach(o,function(t,s){o[s].trim().length<9&&e.preclusionList.splice(e.preclusionList.indexOf(o[s].trim()),1)})}else if(-1!=d[s].trim().indexOf(" and ")){var o=[];o=d[s].trim().split(" and "),angular.forEach(o,function(t,s){o[s].trim().length<9&&e.preclusionList.splice(e.preclusionList.indexOf(o[s].trim()),1)})}else if(-1!=d[s].trim().indexOf("/")){var o=[];o=d[s].trim().split("/"),angular.forEach(o,function(t,s){o[s].trim().length<9&&e.preclusionList.splice(e.preclusionList.indexOf(o[s].trim()),1)})}}))}sessionStorage.setItem("preclusionList",JSON.stringify(e.preclusionList))})}function r(e,t,d){return s({method:"GET",url:"index.php?id=checkMod&modCode="+e+"&sem="+t+"&acadYear="+d})}function a(e){return"A+"===e||"A"===e?5:"A-"===e?4.5:"B+"===e?4:"B"===e?3.5:"B-"===e?3:"C+"===e?2.5:"C"===e?2:"D+"===e?1.5:"D"===e?1:0}var i=0,n=0;e.preclusionList=[],e.preclusionList=[];var S=JSON.parse(sessionStorage.getItem("modsTaken"));angular.forEach(S,function(e,t){u(S[t].ModuleCode.toUpperCase(),S[t].Semester,S[t].AcadYear)}),e.addSemester=function(){var t=[],s=JSON.parse(sessionStorage.getItem("userSem")).length;t=JSON.parse(sessionStorage.getItem("userSem"));var d=JSON.parse(sessionStorage.getItem("userSem"))[s-1],o=d.substring(10),u=parseInt(d.substring(0,4)),l=parseInt(d.substring(5,9)),r="",a=0;1==o?(a=2,r=u+"/"+l+"-"+a):(a=1,r=l+"/"+(l+1)+"-"+a),t.push(r),sessionStorage.setItem("userSem",JSON.stringify(t)),e.unlockSem[s]=!0,e.tempStorage=[];var a=(s+1)%2;0==a&&(a=2);for(var i=0;5>i;i++)e.tempStorage.push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:"-",selectedModGrade:"-",ModuleGrade:["-"],AcadYear:r.substring(0,9),Semester:a});e.modsPerSem.push(e.tempStorage)},e.addModule=function(){e.modsPerSem[0].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[0].substring(0,9),Semester:1})},e.addModule1=function(){e.modsPerSem[1].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[1].substring(0,9),Semester:1})},e.addModule2=function(){e.modsPerSem[2].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[2].substring(0,9),Semester:1})},e.addModule3=function(){e.modsPerSem[3].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[3].substring(0,9),Semester:1})},e.addModule4=function(){e.modsPerSem[4].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[4].substring(0,9),Semester:1})},e.addModule5=function(){e.modsPerSem[5].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[5].substring(0,9),Semester:1})},e.addModule6=function(){e.modsPerSem[6].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[6].substring(0,9),Semester:1})},e.addModule7=function(){e.modsPerSem[7].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[7].substring(0,9),Semester:1})},e.addModule8=function(){e.modsPerSem[8].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[8].substring(0,9),Semester:1})},e.addModule9=function(){e.modsPerSem[9].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[9].substring(0,9),Semester:1})},e.addModule10=function(){e.modsPerSem[10].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[10].substring(0,9),Semester:1})},e.addModule11=function(){e.modsPerSem[11].push({ModuleCode:"",ModuleTitle:"",ModuleCredit:"",ModuleStatus:"Normal",ModuleSuStatus:["-"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:JSON.parse(sessionStorage.getItem("userSem"))[11].substring(0,9),Semester:1})},o.onload=function(){e.capResult="0.00",i=0,n=0,sessionStorage.setItem("totalGradedPoint",0),sessionStorage.setItem("totalGradedMC",0)},e.$on("$stateChangeSuccess",function(){e.capResult="0.00",isNaN(parseInt(sessionStorage.getItem("totalGradedMC")))||isNaN(parseInt(sessionStorage.getItem("totalGradedPoint")))?(i=0,n=0):(i=parseInt(sessionStorage.getItem("totalGradedMC")),n=parseInt(sessionStorage.getItem("totalGradedPoint")),e.capResult=(n/i).toFixed(2),isNaN(e.capResult)&&(e.capResult="0.00"))}),e.searchMod=function(t,s){var d=JSON.parse(sessionStorage.getItem("preclusionList"));r(t.ModuleCode.toUpperCase(),t.Semester,t.AcadYear).then(function(o){if(""!==o.data){var r=!1;angular.forEach(d,function(s,d){return t.ModuleCode===e.preclusionList[d]?(r=!0,""):void 0}),0==r?(u(t.ModuleCode.toUpperCase(),t.Semester,t.AcadYear),sessionStorage.setItem("preclusionList",JSON.stringify(e.preclusionList)),t.ModuleTitle=o.data.ModuleTitle,t.ModuleCredit=o.data.ModuleCredit,t.ModuleSuStatus=["No","Yes","Exempted","Waived"],t.ModuleGrade=["A+","A","A-","B+","B","B-","C+","C","D+","D","F"],t.modFound=!0,t.selectedModGrade="-",t.selectedModSuStatus="-"):(t.ModuleTitle="Modules Taken/Precluded",t.ModuleCredit="-",t.ModuleSuStatus=["-"],t.ModuleGrade=["-"],t.modFound=!1,t.selectedModGrade="-",t.selectedModSuStatus="-"),console.log(o)}else t.ModuleSuStatus=["-"],t.ModuleGrade=["-"],t.selectedModGrade=null,t.selectedModSuStatus=null,t.ModuleCode.length>=6?t.ModuleTitle="Module Not Available":(""!==s.ModuleCredit&&null!==s.selectedModGrade&&"-"!==s.selectedModGrade&&(s.modFound===!0&&"No"===s.selectedModSuStatus&&(i-=parseInt(s.ModuleCredit),n-=a(s.selectedModGrade)*s.ModuleCredit,t.modFound=!1,e.capResult=(n/i).toFixed(2),isNaN(e.capResult)&&(e.capResult="0.00"),(isNaN(i)||isNaN(n))&&(i=0,n=0)),l(s.ModuleCode,s.Semester,s.AcadYear)),t.ModuleTitle=""),t.ModuleCredit="",t.selectedModGrade="-",t.selectedModSuStatus="-"})},e.changeValue=function(t,s){"Exempted"===t.selectedModSuStatus||"Waived"===t.selectedModSuStatus||"Yes"===t.selectedModSuStatus?(t.selectedModGrade="-",t.ModuleGrade=["-"]):t.ModuleGrade=["A+","A","A-","B+","B","B-","C+","C","D+","D","F"],sessionStorage.setItem(t.ModuleCode,JSON.stringify({ModuleTitle:t.ModuleTitle,ModuleCredit:t.ModuleCredit,ModuleStatus:t.ModuleStatus,ModuleSuStatus:t.ModuleSuStatus,selectedModSuStatus:t.selectedModSuStatus,selectedModGrade:t.selectedModGrade,ModuleGrade:t.selectedModGrade,AcadYear:t.AcadYear,Semester:t.Semester})),e.$applyAsync(function(){"No"===s.selectedModSuStatus&&null!==s.selectedModGrade&&"-"!==s.selectedModGrade&&void 0!==s.selectedModGrade&&(i-=parseInt(s.ModuleCredit),n-=a(s.selectedModGrade)*s.ModuleCredit),"No"===t.selectedModSuStatus&&null!==t.selectedModGrade&&"-"!==t.selectedModGrade&&0!==a(t.selectedModGrade)&&(i+=parseInt(t.ModuleCredit),n+=a(t.selectedModGrade)*t.ModuleCredit),e.capResult=(n/i).toFixed(2),isNaN(e.capResult)&&(e.capResult="0.00"),(isNaN(i)||isNaN(n))&&(i=0,n=0),console.log("Total graded Mc : "+i),console.log("Total Graded point : "+n),sessionStorage.setItem("totalGradedMC",i),sessionStorage.setItem("totalGradedPoint",n)})}}var token;null==sessionStorage.getItem("token")?(token=getUrlVars().token,sessionStorage.setItem("isValidToken",!1)):(token=sessionStorage.getItem("token"),sessionStorage.setItem("isValidToken",!0));var userName,studentId;angular.module("NUSAP").controller("CapCalCtrl",["$scope","$cookieStore","$http","$location","$window",CapCalCtrl]);
function getUrlVars(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,o,s){e[o]=s});return e}function MasterCtrl(e,t,o,s,d,a,r){function u(){return o({method:"GET",url:"index.php?id=profile&token="+token})}function l(e){return o({method:"GET",url:"index.php?id=modsTaken&token="+token+"&studentID="+e})}function n(e,t,s){return o({method:"GET",url:"index.php?id=checkMod&modCode="+e+"&sem="+t+"&acadYear="+s})}function i(){return o({method:"GET",url:"index.php?id=modSearch"})}var m=992;e.username="",e.showProfile=function(){e.userProfile=!e.userProfile},e.modList=[],i().then(function(t){sessionStorage.setItem("modsList",JSON.stringify(t.data));var o=JSON.parse(sessionStorage.getItem("modsList"));angular.forEach(o,function(t,s){e.modList.push({ModuleCode:o[s].ModuleCode,ModuleTitle:o[s].ModuleTitle,Semesters:o[s].Semesters})}),e.tempModList=e.modList}),e.isUpdated=!1,e.updateModList=function(t){if(t=t.toUpperCase(),console.log("current Text : "+t),t.length<1)e.modList=e.tempModList,e.isUpdated=!0;else if(0==e.isUpdate){e.modList=[];for(var o=0;o<e.tempModList.length;o++)e.tempModList[o].ModuleCode.startsWith(t)&&e.modList.push({ModuleCode:e.tempModList[o].ModuleCode,ModuleTitle:e.tempModList[o].ModuleTitle,Semesters:e.tempModList[o].Semesters})}else{var s=e.modList;e.modList=[];for(var o=0;o<s.length;o++)s[o].ModuleCode.startsWith(t)&&e.modList.push({ModuleCode:s[o].ModuleCode,ModuleTitle:s[o].ModuleTitle,Semesters:s[o].Semesters})}},e.getProfile=function(){function t(e){var t=parseInt(JSON.parse(sessionStorage.getItem("modsTaken"))[0].AcadYear.substring(5)),o=[],s=new Date,d=(s.getFullYear(),s.getMonth());e=parseInt(e);for(var a=1,r=e;t>=r;r++){var u=r+1;u==t?9>d?(u=r+"/"+u+"-"+a,o.push(u),u=r+1,u=r+"/"+u+"-"+(a+1),o.push(u)):(u=r+"/"+u+"-"+a,o.push(u),u=r+1,u=r+"/"+u+"-"+(a+1),o.push(u),u=r+2,u=r+1+"/"+u+"-"+a,o.push(u)):t>u&&(u=r+"/"+u+"-"+a,o.push(u),u=r+1,u=r+"/"+u+"-"+(a+1),o.push(u))}return o}u().then(function(o){e.username=o.data.Results[0].Name,sessionStorage.setItem("userName",e.username),sessionStorage.setItem("netid",o.data.Results[0].UserID),sessionStorage.setItem("matricYear",o.data.Results[0].MatriculationYear),e.plannerSize=[],e.unlockSem=[];for(var s=3,d=o.data.Results[0].MatriculationYear,a=0;s>a;a++)e.plannerSize.push({candidatureYear:parseInt(d)+a+"/"+(parseInt(d)+a+1),modsPerSem:5});e.addYear=function(){s+=1;var t={candidatureYear:parseInt(d)+s-1+"/"+(parseInt(d)+s),modsPerSem:5};e.plannerSize.push(t)},l(o.data.Results[0].UserID).then(function(o){e.modsCount=o.data.Results.length,sessionStorage.setItem("modsTaken",JSON.stringify(o.data.Results)),e.specialMods=[],e.modsPerSem=[];var s=JSON.parse(sessionStorage.getItem("modsTaken"));JSON.parse(sessionStorage.getItem("modsTaken")).length;sessionStorage.setItem("userSem",JSON.stringify(t(JSON.parse(sessionStorage.getItem("matricYear"))))),console.log("test result : "+t(JSON.parse(sessionStorage.getItem("matricYear"))));var d=JSON.parse(sessionStorage.getItem("userSem"));angular.forEach(d,function(t,o){e.takenMods=[];var a=[];e.unlockSem.push(!1),angular.forEach(s,function(t,r){s[r].Semester==d[o].substring(10,11)&&s[r].AcadYear==d[o].substring(0,9)&&n(s[r].ModuleCode,s[r].Semester,s[r].AcadYear).then(function(t){""===t.data?(a.unshift({ModuleCode:s[r].ModuleCode,ModuleTitle:s[r].ModuleTitle,ModuleCredit:4,ModuleStatus:"Exempted",ModuleSuStatus:["Exempted"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:s[r].AcadYear,Semester:s[r].Semester}),e.takenMods.push({ModuleCode:s[r].ModuleCode,ModuleTitle:s[r].ModuleTitle,ModuleCredit:4,ModuleStatus:"Exempted",ModuleSuStatus:["Exempted"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["-"],AcadYear:s[r].AcadYear,Semester:s[r].Semester}),a[0].selectedModGrade=a[0].ModuleGrade[0],a[0].selectedModSuStatus=a[0].ModuleSuStatus[0],sessionStorage.setItem(s[r].ModuleCode,JSON.stringify({ModuleTitle:s[r].ModuleTitle,ModuleCredit:4,ModuleStatus:"Exempted",ModuleSuStatus:"Yes",selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:"-",AcadYear:s[r].AcadYear,Semester:s[r].Semester}))):(a.push({ModuleCode:t.data.ModuleCode,ModuleTitle:t.data.ModuleTitle,ModuleCredit:t.data.ModuleCredit,ModuleStatus:"Normal",ModuleSuStatus:["No","Yes","Exempted","Waived"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["A+","A","A-","B+","B","B-","C+","C","D+","D","F"],AcadYear:s[r].AcadYear,Semester:s[r].Semester}),e.takenMods.push({ModuleCode:t.data.ModuleCode,ModuleTitle:t.data.ModuleTitle,ModuleCredit:t.data.ModuleCredit,ModuleStatus:"Normal",ModuleSuStatus:["No","Yes","Exempted","Waived"],selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:["A+","A","A-","B+","B","B-","C+","C","D+","D","F"],AcadYear:s[r].AcadYear,Semester:s[r].Semester}),sessionStorage.setItem(t.data.ModuleCode,JSON.stringify({ModuleTitle:t.data.ModuleTitle,ModuleCredit:t.data.ModuleCredit,ModuleStatus:"Normal",ModuleSuStatus:"No",selectedModSuStatus:null,selectedModGrade:null,ModuleGrade:"-",AcadYear:s[r].AcadYear,Semester:s[r].Semester})))})}),e.modsPerSem.push(a)})},function(e){console.log("error no mods found")})},function(t){console.log("Invalid User"),e.username="Invalid User"})},e.logout=function(){sessionStorage.clear(),e.$applyAsync(function(){e.showMenu=!1}),window.location="http://localhost:8888/dist"},e.checkToken=function(){var t={method:"GET",url:"index.php?id=checkToken&token="+token};o(t).then(function(t){if($result=t.data.Success,0==$result)s.path("/login");else{var o=$result;e.$applyAsync(function(){e.showMenu=!0}),sessionStorage.setItem("isValidToken",o),sessionStorage.setItem("token",token)}},function(e){console.log("Error")})},e.getWidth=function(){return window.innerWidth},e.$watch(e.getWidth,function(o,s){o>=m?angular.isDefined(t.get("toggle"))?e.toggle=!!t.get("toggle"):e.toggle=!0:e.toggle=!1}),e.toggleSidebar=function(){e.toggle=!e.toggle,t.put("toggle",e.toggle)},window.onresize=function(){e.$apply()}}var token;null==sessionStorage.getItem("token")?(token=getUrlVars().token,sessionStorage.setItem("isValidToken",!1)):(token=sessionStorage.getItem("token"),sessionStorage.setItem("isValidToken",!0),history.replaceState({},null,"index.html"));var userName,studentId;angular.module("NUSAP").controller("MasterCtrl",["$scope","$cookieStore","$http","$location","$window","$q","$log",MasterCtrl]);

!function(){function t(t){function e(e,l,r,i){function o(){var t=c.querySelector("tbody tr:first-child td:first-child");return t&&!t.style.width}function d(){angular.element(c.querySelectorAll("thead, tbody, tfoot")).css("display",""),t(function(){angular.forEach(c.querySelectorAll("tr:first-child th"),function(t,e){var l=c.querySelector("tbody tr:first-child td:nth-child("+(e+1)+")"),r=c.querySelector("tfoot tr:first-child td:nth-child("+(e+1)+")"),i=l?l.offsetWidth:t.offsetWidth;l&&(l.style.width=i+"px"),t&&(t.style.width=i+"px"),r&&(r.style.width=i+"px")}),angular.element(c.querySelectorAll("thead, tfoot")).css("display","block"),angular.element(c.querySelectorAll("tbody")).css({display:"block",height:r.tableHeight||"inherit",overflow:"auto"});var t=c.querySelector("tbody"),e=t.offsetWidth-t.clientWidth;if(e>0){e-=2;var l=c.querySelector("tbody tr:first-child td:last-child");l.style.width=l.offsetWidth-e+"px"}})}var c=l[0];e.$watch(o,function(t){t&&d()})}return{restrict:"A",link:e}}angular.module("anguFixedHeaderTable",[]).directive("fixedHeader",t),t.$inject=["$timeout"]}();
function rdLoading(){var d={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return d}angular.module("NUSAP").directive("rdLoading",rdLoading);
function rdWidgetBody(){var d={requires:"^rdWidget",scope:{loading:"@?",classes:"@?"},transclude:!0,template:'<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',restrict:"E"};return d}angular.module("NUSAP").directive("rdWidgetBody",rdWidgetBody);
function rdWidgetFooter(){var e={requires:"^rdWidget",transclude:!0,template:'<div class="widget-footer" ng-transclude></div>',restrict:"E"};return e}angular.module("NUSAP").directive("rdWidgetFooter",rdWidgetFooter);
function rdWidgetTitle(){var i={requires:"^rdWidget",scope:{title:"@",icon:"@"},transclude:!0,template:'<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',restrict:"E"};return i}angular.module("NUSAP").directive("rdWidgetHeader",rdWidgetTitle);
function rdWidget(){var d={transclude:!0,template:'<div class="widget" ng-transclude></div>',restrict:"EA"};return d}angular.module("NUSAP").directive("rdWidget",rdWidget);